<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Media Tennis ‚Äî –¢—É—Ä–Ω–∏—Ä –°–∞–Ω—Ç–∞‚Äë–§–µ –∏ –†–µ–π—Ç–∏–Ω–≥ –†–°–¢</title>

  <meta property="og:title" content="Media Tennis ‚Äî –¢—É—Ä–Ω–∏—Ä –°–∞–Ω—Ç–∞‚Äë–§–µ –∏ –†–µ–π—Ç–∏–Ω–≥ –†–°–¢">
  <meta property="og:description" content="–¢—É—Ä–Ω–∏—Ä—ã. –ú–µ–¥–∏–π–Ω–æ—Å—Ç—å. –ö–æ–º—å—é–Ω–∏—Ç–∏. –ë–æ–ª–µ–π –∑–∞ –º–µ–Ω—è –æ–Ω–ª–∞–π–Ω!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://notyourw13.github.io/media-tennis/">
  <meta property="og:image" content="https://raw.githubusercontent.com/notyourw13/media-tennis/main/img/preview.jpg">

  <style>
    :root{
      --bg:#111; --text:#f4f4f4; --accent:#bada55; --sec:#1c1c1c; --border:#2a2a2a; --muted:#9aa0a6;
      --aziano:url("https://raw.githubusercontent.com/notyourw13/media-tennis/main/img/aziano.png");
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
    header{background:var(--sec);color:var(--accent);padding:56px 20px 36px;text-align:center}
    header h1{font-size:2em;margin-bottom:.3em}
    header p{font-size:1.05em;color:#aaa}

    section{padding:28px 16px}
    .center{max-width:1000px;margin:0 auto}
    .card{background:var(--sec);border:1px solid var(--border);border-radius:12px;padding:18px;margin:0 auto 24px;max-width:1000px}
    h2{font-size:1.4em;margin:4px 0 10px;color:var(--accent);text-align:center}
    .divider{height:1px;background:var(--border);margin:18px 0}

    /* —Ç–∞–±–ª–∏—Ü—ã */
    .table-wrap{overflow-x:auto}
    table{border-collapse:collapse;color:#ddd;min-width:320px;table-layout:fixed;width:100%}
    th,td{border:1px solid #424242;padding:9px 8px;text-align:center;vertical-align:middle}
    th{background:#222;color:var(--accent)}
    .col-pair{width:58%}
    .col-wg{width:24%}
    .col-az{width:18%}

    /* –ü–∞—Ä–∞: –∏–≥—Ä–æ–∫–∏ —Å—Ç–æ–ª–±–∏–∫–æ–º */
    .pair{display:flex;flex-direction:column;gap:4px;align-items:flex-start}
    .player{display:block;line-height:1.25}
    .player small{color:var(--muted);margin-left:6px}
    td.col-pair{text-align:left}

    /* –ê–∑–∏–∞–Ω–æ: –∫–∞—Ä—Ç–∏–Ω–∫–∞ + –æ—Ç—Å—Ç—É–ø—ã */
    th.col-az{position:relative;padding:10px 0;background:#222}
    th.col-az::before{
      content:"";display:block;height:80px;margin:6px 0; /* –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É */
      background-image:var(--aziano);background-size:contain;background-position:center;background-repeat:no-repeat;
    }
    .drink-cell{height:92px;padding:10px 0} /* —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∫–∏ –±—ã–ª–∏ –ø–æ–≤—ã—à–µ */

    /* SHARE */
    .sharebar{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin:10px 0 12px}
    .btn{background:#2a2a2a;border:1px solid #3a3a3a;border-radius:10px;padding:10px 16px;color:#f4f4f4;text-decoration:none;cursor:pointer}
    .btn:hover{border-color:#555}

    /* SHEET */
    .sheet-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:flex-end;z-index:10}
    .sheet{background:#1b1b1b;border-top-left-radius:14px;border-top-right-radius:14px;width:100%;max-width:520px;margin:0 auto;padding:12px;border:1px solid #2a2a2a}
    .sheet h3{font-size:1.05em;text-align:center;margin:4px 0 10px;color:#ddd}
    .sheet .act{width:100%;text-align:center;margin:6px 0}
    .note{color:#9aa0a6;font-size:.9em;text-align:center;margin-top:6px}

    /* –§–û–¢–û */
    .photos{margin:12px auto 6px;max-width:1000px}
    .grid{display:grid;grid-template-columns:repeat(6,1fr);gap:8px}
    .grid a{display:block;position:relative;padding-bottom:100%;overflow:hidden;border-radius:8px;border:1px solid #2a2a2a;background:#0f0f0f}
    .grid img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .2s ease}
    .grid a:hover img{transform:scale(1.03)}
    .ph-head{display:flex;justify-content:space-between;align-items:center;margin:4px 2px 10px}
    .ph-head h3{font-size:1.05em;color:#ddd}
    .ph-head .sub{color:#888;font-size:.95em}

    footer{background:#1a1a1a;padding:28px 16px;margin-top:28px}
    .footer-inner{max-width:1000px;margin:0 auto;text-align:center}
    .links-block a{display:inline-block;margin:6px 12px;text-decoration:none;color:var(--accent);font-weight:bold}

    /* Mobile tweaks */
    @media (max-width:420px){
      th,td{padding:7px}
      .pair{gap:3px}
      .player{font-size:15px}
      th.col-az::before{height:86px}
      .drink-cell{height:96px}
      .grid{grid-template-columns:repeat(4,1fr)}
    }
    @media (max-width:360px){
      th,td{padding:6px;font-size:15px;border-width:.5px}
      .grid{grid-template-columns:repeat(3,1fr)}
      .col-pair{width:60%}.col-wg{width:24%}.col-az{width:16%}
    }
  </style>
</head>
<body>
  <header>
    <h1>Media Tennis üéæ</h1>
    <p>–¢—É—Ä–Ω–∏—Ä—ã. –ú–µ–¥–∏–π–Ω–æ—Å—Ç—å. –ö–æ–º—å—é–Ω–∏—Ç–∏.</p>
  </header>

  <section>
    <div class="center">

      <div class="card" id="main-card">
        <h2 id="title-main">–¢—É—Ä–Ω–∏—Ä –°–∞–Ω—Ç–∞‚Äë–§–µ 09.08</h2>

        <!-- –¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–±–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ ‚Ññ) -->
        <div class="table-wrap" id="tournament">
          <table id="table-tournament">
            <tr>
              <th class="col-pair">–ü–∞—Ä–∞</th>
              <th class="col-wg">W/G</th>
              <th class="col-az"><!-- –ø—É—Å—Ç–æ: —Ç–æ–ª—å–∫–æ –±–∞–Ω–∫–∞ --></th>
            </tr>

            <!-- 1..12 ‚Äî –≤—Å–µ –ø–∞—Ä—ã -->
            <tr><td class="col-pair"><div class="pair"><span class="player">–î–æ–Ω—Å–∫–æ–≤ <small>4.5</small></span><span class="player">–ü–æ–ª—É–Ω–∏–Ω–∞ <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–•–∞—Ä–ª–∞–º–æ–≤ <small>4.0</small></span><span class="player">–ï—Ä–æ—à–∫–∏–Ω–∞ <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–ï—Ä–æ—à–µ–≤–∞ <small>3.5</small></span><span class="player">–î–∞–Ω–≥ <small>4.0</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–¢–æ–Ω–∫–æ <small>3.0</small></span><span class="player">–î–æ–ª–≥–æ–ø–æ–ª–æ–≤–∞ <small>3.0</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–í–∏–¥–≥–æ—Ñ –ê <small>4.0</small></span><span class="player">–í–∏–¥–≥–æ—Ñ –ï <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–ú–∏—Ö–µ–µ–≤–∞ <small>3.0</small></span><span class="player">–°—Ç–∞—Ä–∫–æ–≤ <small>3.0</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–ö–∏–º <small>3.5</small></span><span class="player">–ú–∏–ª–æ—Å–µ—Ä–¥–æ–≤ <small>4.0</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–°–ø–∏—Ä–∏–Ω–∞ <small>2.0</small></span><span class="player">–†–∞–±–∞–µ–≤ <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–ë–µ–Ω–∏–Ω <small>3.0</small></span><span class="player">–ê—Ä—É—à–∞–Ω—è–Ω <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–®–∞–±–∞—à <small>4.5</small></span><span class="player">–ë–µ–∑–º–∞–µ–≤–∞ <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–ö–∏–º –î <small>2.5</small></span><span class="player">–ö–∏–º –ò <small>3.5</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
            <tr><td class="col-pair"><div class="pair"><span class="player">–°—É–Ω—Ü–æ–≤–∞ <small>3.0</small></span><span class="player">–ü–∞–Ω—Ñ–∏–ª–æ–≤ <small>4.0</small></span></div></td><td>‚Äî / ‚Äî</td><td class="drink-cell">0</td></tr>
          </table>
        </div>

        <!-- –ï–î–ò–ù–ê–Ø –∫–Ω–æ–ø–∫–∞ -->
        <div class="sharebar">
          <button class="btn" id="btn-open-share">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>

        <!-- –ú–µ–Ω—é-—à–µ–π—Ç -->
        <div class="sheet-backdrop" id="sheet">
          <div class="sheet">
            <h3>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</h3>
            <button class="btn act" id="act-native">–°–∏—Å—Ç–µ–º–Ω–æ–µ –º–µ–Ω—é</button>
            <button class="btn act" id="act-tg-file">Telegram (PNG)</button>
            <button class="btn act" id="act-tg-file-save">Telegram + —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—é</button>
            <button class="btn act" id="act-download">–°–∫–∞—á–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É</button>
            <div class="note">–¢–µ–∫—Å—Ç: ¬´–±–æ–ª–µ–π –∑–∞ –º–µ–Ω—è –æ–Ω–ª–∞–π–Ω¬ª + —Å—Å—ã–ª–∫–∞</div>
          </div>
        </div>

        <!-- –§–æ—Ç–æ-–±–ª–æ–∫ (–º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–º) -->
        <div class="photos" id="photos">
          <div class="ph-head">
            <h3>–§–æ—Ç–æ —Å —Ç—É—Ä–Ω–∏—Ä–∞</h3>
            <div class="sub" id="ph-count">–∑–∞–≥—Ä—É–∂–∞–µ–º‚Ä¶</div>
          </div>
          <div class="grid" id="ph-grid"></div>
        </div>

        <div class="divider"></div>

        <!-- –†–µ–π—Ç–∏–Ω–≥ -->
        <h2>–†–µ–π—Ç–∏–Ω–≥ –†–°–¢ (—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è‚Ä¶ ‚öôÔ∏è)<br>–†–æ—Å—Å–∏–π—Å–∫–∏–π –°–∞–Ω—Ç–∞‚Äë–§–µ –¢—É—Ä</h2>
        <div class="table-wrap">
          <table>
            <tr>
              <th style="width:12%">‚Ññ</th>
              <th style="width:44%">–ò–≥—Ä–æ–∫</th>
              <th style="width:24%">a.k.a.</th>
              <th style="width:20%">–û—á–∫–∏</th>
            </tr>
            <tr><td>1</td><td>–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–∞—Ñ–∏–º—Å–∫–∏–π</td><td>–°–∞—à–∞ Surfer</td><td>150</td></tr>
            <tr><td>2</td><td>–ú–∞—à–∞ –°–µ—Ä–∞—Ñ–∏–º—Å–∫–∞—è</td><td>–ú–∞—à–∞ Surfersha</td><td>140</td></tr>
            <tr><td>3</td><td>–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ê—Ä—É—Ç—é–Ω—è–Ω</td><td>–°–∞—à–∞ –í–æ–ª–∫</td><td>133</td></tr>
            <tr><td>4</td><td>–ú–∞—Ä–∏—è –®–∞—Ä–∞–ø–æ–≤–∞</td><td>–ú–∞—à–∞ –®–∞—Ä</td><td>120</td></tr>
            <tr><td>5</td><td>–ù–æ–≤–∞–∫ –î–∂–æ–∫–µ—Ä–æ–≤–∏—á</td><td>–î–∂–æ–∫–µ—Ä</td><td>115</td></tr>
            <tr><td>6</td><td>–ê–Ω–Ω–∞ –¢–µ–Ω–Ω–∏—Å–æ–≤–∞</td><td>–ê–Ω–Ω–∞ Smash</td><td>112</td></tr>
            <tr><td>7</td><td>–ò–ª—å—è –ú–∞–∫–∞—Ä–æ–≤</td><td>–ú–∞–∫—Å Serve</td><td>108</td></tr>
            <tr><td>8</td><td>–Æ–ª–∏—è –û—Ä–ª–æ–≤–∞</td><td>–Æ–ª—è Slice</td><td>105</td></tr>
            <tr><td>9</td><td>–î–º–∏—Ç—Ä–∏–π –ö—É–∑—å–º–∏–Ω</td><td>–ö—É–∑—è Drop</td><td>102</td></tr>
            <tr><td>10</td><td>–°–≤–µ—Ç–ª–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞</td><td>–°–≤–µ—Ç–∞ Rally</td><td>100</td></tr>
          </table>
        </div>
      </div>

    </div>
  </section>

  <footer>
    <div class="footer-inner">
      <p>–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ:</p>
      <div class="links-block">
        <a href="https://t.me/tennis_msk1">–ë–ª–æ–≥–µ—Ä—ã –∏ UGC</a>
        <a href="https://t.me/tennis_msk1">–¢—Ä–µ–Ω–µ—Ä—ã</a>
        <a href="https://t.me/tennis_msk1">–ë—Ä–µ–Ω–¥—ã</a>
        <a href="https://t.me/tennis_msk1">–í–ª–∞–¥–µ–ª—å—Ü—ã –∫–æ—Ä—Ç–æ–≤</a>
        <a href="https://t.me/tennis_msk1">etc</a>
      </div>
      <p style="margin-top:18px">&copy; 2025 Media Tennis</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    // ---------- SHARE ----------
    const openSheetBtn = document.getElementById('btn-open-share');
    const sheetBackdrop = document.getElementById('sheet');
    const actNative = document.getElementById('act-native');
    const actTgFile = document.getElementById('act-tg-file');
    const actTgFileSave = document.getElementById('act-tg-file-save');
    const actDownload = document.getElementById('act-download');

    const pageUrl = location.href;
    const tgText = '–±–æ–ª–µ–π –∑–∞ –º–µ–Ω—è –æ–Ω–ª–∞–π–Ω';

    openSheetBtn.addEventListener('click', () => sheetBackdrop.style.display = 'flex');
    sheetBackdrop.addEventListener('click', (e) => { if (e.target === sheetBackdrop) sheetBackdrop.style.display = 'none'; });

    function tournamentCanvasBlob(){
      const el = document.getElementById('tournament');
      return html2canvas(el, {backgroundColor:'#111', scale:2})
        .then(cv => new Promise(res => cv.toBlob(res, 'image/png')));
    }

    actNative.addEventListener('click', async () => {
      sheetBackdrop.style.display = 'none';
      if (navigator.share){
        try{ await navigator.share({title: document.title, text: tgText, url: pageUrl}); }catch{}
      }else{
        const url = `https://t.me/share/url?text=${encodeURIComponent(tgText)}&url=${encodeURIComponent(pageUrl)}`;
        window.open(url, '_blank');
      }
    });

    actTgFile.addEventListener('click', async () => {
      sheetBackdrop.style.display = 'none';
      try{
        const blob = await tournamentCanvasBlob();
        const file = new File([blob], 'MediaTennis_Tournament.png', {type:'image/png'});
        if (navigator.canShare && navigator.canShare({files:[file]})) {
          await navigator.share({files:[file], title:'Media Tennis', text: tgText});
        } else {
          const url = `https://t.me/share/url?text=${encodeURIComponent(tgText)}&url=${encodeURIComponent(pageUrl)}`;
          window.open(url, '_blank');
        }
      }catch{}
    });

    actTgFileSave.addEventListener('click', async () => {
      sheetBackdrop.style.display = 'none';
      try{
        const blob = await tournamentCanvasBlob();
        const file = new File([blob], 'MediaTennis_Tournament.png', {type:'image/png'});
        if (navigator.canShare && navigator.canShare({files:[file]})) {
          await navigator.share({files:[file], title:'Media Tennis', text: tgText});
        } else {
          const url = `https://t.me/share/url?text=${encodeURIComponent(tgText)}&url=${encodeURIComponent(pageUrl)}`;
          window.open(url, '_blank');
        }
        // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—é
        const dlUrl = URL.createObjectURL(blob);
        const a = document.createElement('a'); a.href = dlUrl; a.download = 'MediaTennis_Tournament.png'; a.click();
        URL.revokeObjectURL(dlUrl);
      }catch{}
    });

    actDownload.addEventListener('click', async () => {
      sheetBackdrop.style.display = 'none';
      const blob = await tournamentCanvasBlob();
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'MediaTennis_Tournament.png'; a.click();
      URL.revokeObjectURL(url);
    });

    // ---------- PHOTOS GRID ----------
    // –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —Ñ–æ—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: /photos (–∏—Å–ø—Ä–∞–≤–∏–ª)
    const GH_OWNER = 'notyourw13';
    const GH_REPO  = 'media-tennis';
    const GH_DIR   = 'photos'; // –ë–´–õ–û 'media-tennis/photos' ‚Äî –∏–∑‚Äë–∑–∞ —ç—Ç–æ–≥–æ –Ω–µ –≥—Ä—É–∑–∏–ª–æ—Å—å

    async function loadPhotos(){
      const api = `https://api.github.com/repos/${GH_OWNER}/${GH_REPO}/contents/${GH_DIR}`;
      try{
        const res = await fetch(api, {headers:{'Accept':'application/vnd.github+json'}});
        const items = await res.json();
        const files = (Array.isArray(items) ? items : []).filter(x=>{
          return x.type==='file' && /\.(jpe?g|png|webp)$/i.test(x.name);
        }).map(x => x.name);

        // –ø–µ—Ä–µ–º–µ—à–∞–µ–º
        for (let i = files.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [files[i], files[j]] = [files[j], files[i]];
        }

        const grid = document.getElementById('ph-grid');
        const count = document.getElementById('ph-count');
        grid.innerHTML = '';
        count.textContent = files.length ? `${files.length} —Ñ–æ—Ç–æ` : '—Ñ–æ—Ç–æ –ø–æ–∫–∞ –Ω–µ—Ç';

        files.forEach(name=>{
          const raw = `https://raw.githubusercontent.com/${GH_OWNER}/${GH_REPO}/main/${GH_DIR}/${encodeURIComponent(name)}`;
          const a = document.createElement('a');
          a.href = raw; a.target = '_blank'; a.rel='noopener';
          const img = document.createElement('img');
          img.loading = 'lazy'; img.alt = '–§–æ—Ç–æ —Å —Ç—É—Ä–Ω–∏—Ä–∞'; img.src = raw;
          a.appendChild(img); grid.appendChild(a);
        });
      }catch(e){
        document.getElementById('ph-count').textContent = '–æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
      }
    }
    loadPhotos();
  </script>
</body>
</html>
